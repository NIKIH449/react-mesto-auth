{"version":3,"sources":["images/logo.svg","components/Header.jsx","components/Footer.jsx","context/CurrentUserContext.js","components/Card.jsx","components/Main.jsx","components/ImagePopup.jsx","components/PopupWithForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/Login.jsx","components/Register.jsx","components/InfoTooltip.jsx","components/ProtectedRoute.jsx","utils/Api.js","utils/auth.js","images/registered.svg","images/notRegistered.svg","components/Preloader.jsx","components/App.jsx","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","className","href","src","logo","alt","isLoading","loggedIn","email","onClick","onSignOut","type","pathname","to","Footer","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","onCardClick","link","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","map","item","ImagePopup","onClose","e","stopPropagation","PopupWithForm","useEffect","onEscClose","key","window","addEventListener","removeEventListener","isOpen","onMouseDown","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","Login","setEmail","password","setPassword","onLogin","Register","onRegister","InfoTooltip","image","ProtectedRoute","api","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","inputValue","body","JSON","stringify","userAvatar","cardId","authorization","BASE_URL","checkResponse","Preloader","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCard","setLoggedIn","setImage","setTitle","isDataLoading","setIsDataLoading","navigate","useNavigate","handleSingIn","closeAllPopups","token","localStorage","getItem","Authorization","auth","data","catch","err","console","log","profileInfo","getUserInfo","initialCards","getInitialCards","all","Provider","removeItem","path","element","registered","notRegistered","finally","setItem","changeLikeCardStatus","newCard","cards","c","deleteCard","filter","setUserInfo","setNewCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5ca147d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { useLocation, Link } from 'react-router-dom';\n\nfunction Header(props) {\n  const location = useLocation();\n  return (\n    <header className=\"header\">\n      <a href=\"https://nikitas.nomoredomains.work/\">\n        <img className=\"header__logo\" src={logo} alt=\"результат регистрации\" />\n      </a>\n      {!props.isLoading ? props.loggedIn ? (\n        <div className=\"header__container\">\n          <p className=\"header__login\">{props.email}</p>\n          <button\n            onClick={props.onSignOut}\n            type=\"submit\"\n            className=\"header__button\"\n          >\n            Logout\n          </button>\n        </div>\n      ) : location.pathname === '/sign-up' ? (\n        <Link to=\"/sign-in\" className=\"header__link\">\n          Login\n        </Link>\n      ) : (\n        <Link to=\"/sign-up\" className=\"header__link\">\n          Registration\n        </Link>\n      ) : ''}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Nikita Druzhevskii</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction Card(props) {\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__button-remove ${\n    isOwn ? 'element__button-remove' : 'element__button-remove_disable'\n  }`;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__button-like ${\n    isLiked ? 'element__button-like_active' : 'element__button-like'\n  }`;\n\n  return (\n    <li className=\"element\">\n      <button\n        onClick={handleCardDelete}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n        aria-label=\"Delete\"\n      ></button>\n      <img\n        onClick={handleClick}\n        src={props.card.link}\n        alt={props.card.name}\n        className=\"element__picture\"\n      />\n      <div className=\"element__container\">\n        <h2 className=\"element__place-name\">{props.card.name}</h2>\n        <div>\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            aria-label=\"Like\"\n            type=\"button\"\n          ></button>\n          <div className=\"element__likes\">{props.card.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__container\">\n          <div className=\"profile__avatar-container\">\n            <img\n              className=\"profile__avatar\"\n              src={currentUser.avatar}\n              alt=\"avatar\"\n            />\n            <button\n              onClick={props.onEditAvatar}\n              className=\"profile__button profile__button_type_avatar\"\n              aria-label=\"Сменить аватар\"\n              type=\"button\"\n            ></button>\n          </div>\n          <div className=\"profile__profile-info\">\n            <div className=\"profile__main-info\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                onClick={props.onEditProfile}\n                className=\"profile__button profile__button_type_edit\"\n                aria-label=\"Редактировать\"\n                type=\"button\"\n              ></button>\n            </div>\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          className=\"profile__button profile__button_type_plus\"\n          aria-label=\"Добавить\"\n          type=\"button\"\n        ></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.card.map((item) => (\n            <Card\n              key={item._id}\n              onCardDelete={props.onCardDelete}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              card={item}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      onClick={props.onClose}\n      className={`popup ${\n        props.card ? 'popup_opened' : ''\n      }  popup_type_picture`}\n    >\n      <div className=\"popup__picture\" onClick={(e) => e.stopPropagation()}>\n        <button\n          onClick={props.onClose}\n          type=\"button\"\n          className=\"popup__button-close popup__button-close_type_picture\"\n        ></button>\n        <img\n          className=\"popup__image\"\n          src={`${props.card ? props.card.link : '#'}`}\n          alt={`${props.card ? props.card.name : ''}`}\n        />\n        <p className=\"popup__picture-description\">{`${\n          props.card ? props.card.name : ''\n        }`}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React, { useEffect } from 'react';\n\nfunction PopupWithForm(props) {\n  useEffect(() => {\n    function onEscClose(e) {\n      if (e.key === 'Escape') {\n        props.onClose();\n      }\n    }\n    window.addEventListener('keydown', onEscClose);\n    return () => window.removeEventListener('keydown', onEscClose);\n  }, [props]);\n  return (\n    <div\n      className={`popup ${props.isOpen ? 'popup_opened' : ''} popup_type_${\n        props.name\n      }`}\n      onMouseDown={props.onClose}\n    >\n      <div className=\"popup__container\" onMouseDown={(e) => e.stopPropagation()}>\n        <form\n          className=\"popup__form\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n        >\n          <button\n            type=\"button\"\n            onClick={props.onClose}\n            className={`popup__button-close popup__button-close_type_${props.name}`}\n          ></button>\n          {props.title && <h2 className=\"popup__title\">{props.title}</h2>}\n          {props.children}\n          {props.buttonText && (\n            <button\n              className={`popup__button-save popup__button-save_type_${props.name}`}\n              type=\"submit\"\n            >\n              {props.buttonText}\n            </button>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"edit-profile\"\n      title=\"Edit profile\"\n      buttonText=\"Save\"\n    >\n      <div className=\"popup__input-container\">\n        <input\n          id=\"name-input\"\n          type=\"text\"\n          name=\"username\"\n          className=\"popup__input popup__input_type_name\"\n          placeholder=\"Name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name || ''}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__input-error name-input-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          id=\"desription-input\"\n          type=\"text\"\n          name=\"description\"\n          className=\"popup__input popup__input_type_desription\"\n          placeholder=\"About\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description || ''}\n          onChange={handleChangeDescription}\n        />\n        <span className=\"popup__input-error desription-input-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"change-avatar\"\n      title=\"Update avatar\"\n      buttonText=\"Save\"\n    >\n      <div className=\"popup__input-container\">\n        <input\n          id=\"avatar-input\"\n          type=\"url\"\n          name=\"avatar\"\n          className=\"popup__input popup__input_change-avatar\"\n          placeholder=\"Link to avatar\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__input-error avatar-input-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handlePlaceName(e) {\n    setName(e.target.value);\n  }\n\n  function handlePlaceLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"add-picture\"\n      title=\"New place\"\n      buttonText=\"Create\"\n    >\n      <div className=\"popup__input-container\">\n        <input\n          id=\"place-input\"\n          type=\"text\"\n          name=\"name\"\n          className=\"popup__input popup__input_type_place\"\n          placeholder=\"Name\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={name}\n          onChange={handlePlaceName}\n        />\n        <span className=\"popup__input-error place-input-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          id=\"url-input\"\n          type=\"url\"\n          name=\"link\"\n          className=\"popup__input popup__input_type_picture\"\n          placeholder=\"Link to picture\"\n          required\n          value={link}\n          onChange={handlePlaceLink}\n        />\n        <span className=\"popup__input-error url-input-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useState } from 'react';\nfunction Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function onLogin(e) {\n    e.preventDefault();\n    props.onLogin(password, email);\n  }\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n  return (\n    <section className=\"auth\">\n      <form onSubmit={onLogin} className=\"auth__form\">\n        <div className=\"auth__container\">\n          <h2 className=\"auth__title\">Login</h2>\n          <input\n            value={email}\n            onChange={handleChangeEmail}\n            id=\"auth__input\"\n            type=\"email\"\n            name=\"email\"\n            className=\"auth__input\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            value={password}\n            onChange={handleChangePassword}\n            id=\"password\"\n            type=\"password\"\n            name=\"password\"\n            className=\"auth__input\"\n            placeholder=\"Password\"\n            minLength=\"6\"\n            maxLength=\"40\"\n          />\n        </div>\n        <button type=\"sumbit\" className=\"auth__submit-button\">\n          Login\n        </button>\n      </form>\n    </section>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function onRegister(e) {\n    e.preventDefault();\n    props.onRegister(password, email);\n  }\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n  return (\n    <section className=\"auth\">\n      <form className=\"auth__form\" onSubmit={onRegister}>\n        <div className=\"auth__container\">\n          <h2 className=\"auth__title\">Registration</h2>\n          <input\n            value={email}\n            onChange={handleChangeEmail}\n            id=\"auth__input\"\n            type=\"email\"\n            name=\"email\"\n            className=\"auth__input\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            value={password}\n            onChange={handleChangePassword}\n            id=\"password\"\n            type=\"password\"\n            name=\"password\"\n            className=\"auth__input\"\n            placeholder=\"Password\"\n            minLength=\"6\"\n            maxLength=\"40\"\n            required\n          />\n        </div>\n        <div className=\"auth__container\">\n          <button type=\"submit\" className=\"auth__submit-button\">\n            Register\n          </button>\n          <p className=\"auth__paragraph\">\n            Already registered?\n            <Link to=\"/sign-in\" className=\"auth__link\">\n              Login\n            </Link>\n          </p>\n        </div>\n      </form>\n    </section>\n  );\n}\n\nexport default Register\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction InfoTooltip(props) {\n  return (\n    <PopupWithForm onClose={props.onClose} isOpen={props.isOpen}>\n      <img className=\"infoTooltip__image\" alt=\"Notification\" src={props.image} />\n      <p className=\"infoTooltip__paragraph\">{props.title}</p>\n    </PopupWithForm>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Navigate } from 'react-router-dom';\n\nconst ProtectedRoute = ({ children, ...props }) => {\n  return props.loggedIn ? children : <Navigate to=\"/sign-in\" />;\n};\n\nexport default ProtectedRoute;\n","class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  //  проверяем все ли впорядке с ответом\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getUserInfo() {\n    return fetch(this._url + '/users/me', {\n      method: 'GET',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  setUserInfo(inputValue) {\n    return fetch(this._url + '/users/me', {\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: inputValue.name,\n        about: inputValue.about,\n      }),\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  setUserAvatar(userAvatar) {\n    return fetch(this._url + '/users/me/avatar', {\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: userAvatar.avatar,\n      }),\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  setNewCard(inputValue) {\n    return fetch(this._url + '/cards', {\n      method: 'POST',\n      body: JSON.stringify({\n        name: inputValue.name,\n        link: inputValue.link,\n      }),\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(this._url + '/cards', {\n      method: 'GET',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(this._url + `/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(this._url + `/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._url + `/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-28',\n  headers: {\n    authorization: '61ec0817-2cd1-4935-b48e-293d9bfb9a8c',\n    'Content-Type': 'application/json',\n  },\n});\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const signUp = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ password, email }),\n  }).then(checkResponse);\n};\n\nexport const signIn = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ password, email }),\n  }).then(checkResponse);\n};\n\nexport const checkValidity = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(checkResponse);\n};\n","export default __webpack_public_path__ + \"static/media/registered.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/notRegistered.df8eddf6.svg\";","import React from 'react';\n\nfunction Preloader() {\n  return (\n    <div className='preloader'>Loading...</div>\n  );\n}\n\nexport default Preloader;\n","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport '../index.css';\nimport { Routes, Route, useNavigate, useLocation } from 'react-router-dom';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport * as auth from '../utils/auth';\nimport registered from '../images/registered.svg';\nimport notRegistered from '../images/notRegistered.svg';\nimport Preloader from './Preloader';\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [card, setCard] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [image, setImage] = useState('');\n  const [title, setTitle] = useState('');\n  const [email, setEmail] = useState('');\n  const [isDataLoading, setIsDataLoading] = useState(true);\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth\n        .checkValidity(token)\n        .then((res) => {\n          if (res) {\n            setEmail(res.data.email);\n            setLoggedIn(true);\n            navigate('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setIsDataLoading(false);\n        });\n    } else {\n      setIsDataLoading(false);\n    }\n  }, [navigate]);\n  useEffect(() => {\n    const profileInfo = api.getUserInfo();\n    const initialCards = api.getInitialCards();\n    Promise.all([profileInfo, initialCards])\n      .then((data) => {\n        setCurrentUser(data[0]);\n        setCard(data[1]);\n        setIsDataLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsDataLoading(false);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCard((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then((res) => {\n        setCard((cards) => cards.filter((item) => item._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function addCard(newCard) {\n    setCard([newCard, ...card]);\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .setUserAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleNewPlace(data) {\n    api\n      .setNewCard(data)\n      .then((data) => {\n        addCard(data);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function onRegister(password, email) {\n    auth\n      .signUp(password, email)\n      .then(() => {\n        setImage(registered);\n        setTitle('Вы успешно зарегистирировались!');\n        navigate('/sign-in');\n      })\n      .catch(() => {\n        setImage(notRegistered);\n        setTitle('Что-то пошло не так! Попробуйте ещё раз.');\n      })\n      .finally(handleSingIn());\n  }\n\n  function onLogin(password, email) {\n    auth\n      .signIn(password, email)\n      .then((res) => {\n        setLoggedIn(true);\n        navigate('/');\n        localStorage.setItem('token', res.token);\n      })\n      .catch(() => {\n        setImage(notRegistered);\n        setTitle('Что-то пошло не так! Возможно, логин или пароль неверны.');\n        handleSingIn();\n      });\n  }\n  \n  useEffect(() => {\n    if (location.pathname === '/react-mesto-auth') {\n      navigate('/sign-in');\n    }\n  }, []);\n\n  function onSignOut() {\n    localStorage.removeItem('token');\n    navigate('/');\n    setLoggedIn(false);\n  }\n\n  function handleSingIn() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header\n          email={email}\n          isLoading={isDataLoading}\n          loggedIn={loggedIn}\n          onSignOut={onSignOut}\n        />\n        {isDataLoading ? (\n          <Preloader />\n        ) : (\n          <>\n            <Routes>\n              <Route\n                path=\"/sign-up\"\n                element={<Register onRegister={onRegister} />}\n              />\n              <Route path=\"/sign-in\" element={<Login onLogin={onLogin} />} />\n              <Route\n                path=\"/\"\n                element={\n                  <ProtectedRoute loggedIn={loggedIn}>\n                    <Main\n                      card={card}\n                      onCardLike={handleCardLike}\n                      onCardDelete={handleCardDelete}\n                      onCardClick={handleCardClick}\n                      onEditProfile={handleEditProfileClick}\n                      onAddPlace={handleAddPlaceClick}\n                      onEditAvatar={handleEditAvatarClick}\n                    />\n                  </ProtectedRoute>\n                }\n              />\n            </Routes>\n            <Footer />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleNewPlace}\n            />\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <InfoTooltip\n              image={image}\n              title={title}\n              isOpen={registered && title && isInfoTooltipOpen}\n              onClose={closeAllPopups}\n            />\n          </>\n        )}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}